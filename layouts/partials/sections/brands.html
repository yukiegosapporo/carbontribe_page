<section class="section brands py-5">
  <div class="aos-scope">
    <div data-aos="fade-up">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-xl-6">
            {{ with .content.title }}
            <div class="col-12">
              <h3 class="fs-1 fw-bold text-center text-primary pb-3">{{ . }}</h3>
            </div>
            {{ end }}
          </div>
        </div>

        <!-- Scrolling container -->
        <div class="brand-carousel-wrapper overflow-hidden">
          <div class="brand-carousel d-flex">
            {{ range .content.items }}
            <div class="brand-carousel-item px-5">
              <div class="brand-image-container">
                {{ partial "utilities/image-half.html" . }}
              </div>
            </div>
            {{ end }}
            <!-- Duplicate items for seamless looping -->
            {{ range .content.items }}
            <div class="brand-carousel-item px-5">
              <div class="brand-image-container">
                {{ partial "utilities/image-half.html" . }}
              </div>
            </div>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .brand-carousel-wrapper {
    position: relative;
    width: 100%;
    overflow: hidden;
  }

  .brand-carousel {
    display: flex;
    width: max-content;
    /* Allows container to expand with content */
    animation: scrollLeft 30s linear infinite;
  }


  .brand-carousel-item {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 200px;
    /* Adjust based on logo size */
  }

  .brand-image-container img {
    height: 100px;
    object-fit: contain;
    display: block;
    max-width: 100%;
  }

  @keyframes scrollLeft {
    0% {
      transform: translateX(0%);
    }

    100% {
      transform: translateX(-50%);
    }
  }
</style>